<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Festival Card Component</title>
    <link rel="stylesheet" href="/css/base.css">
    <link rel="stylesheet" href="/components/festival-card/festival-card.css">
    <style>
        body {
            padding: 2rem;
            background: #1a1a1a;
        }
        #test-container {
            max-width: 600px;
            margin: 0 auto;
        }
    </style>
</head>
<body>
    <div id="test-container">
        <h1 style="color: white; text-align: center;">Festival Card Component Test</h1>
        <div id="card-container"></div>
    </div>

    <script src="/js/ui-utils.js"></script>
    <script src="/js/band-manager.js"></script>
    <script src="/js/favorites-manager.js"></script>
    <script src="/components/festival-card/festival-card.js"></script>

    <script>
        // Test the component
        async function testComponent() {
            console.log('Testing FestivalCard component...');

            const testFestival = {
                name: "Test Festival",
                poster: "/img/placeholder.jpg",
                dates: {
                    start: "2026-06-15",
                    end: "2026-06-17"
                },
                location: "Test Location, Country",
                bands: ["Test Band 1", "Test Band 2", "Test Band 3"],
                ticketPrice: "99",
                website: "https://example.com"
            };

            try {
                const bandManager = new BandManager();
                const favoritesManager = new FavoritesManager();

                console.log('Rendering card...');
                const card = await FestivalCard.render(testFestival, {
                    bandManager: bandManager,
                    favoritesManager: favoritesManager,
                    index: 0
                });

                console.log('Card rendered:', card);
                document.getElementById('card-container').appendChild(card);
                console.log('Card added to DOM');
            } catch (error) {
                console.error('Error rendering card:', error);
                document.getElementById('card-container').innerHTML =
                    `<div style="color: red; padding: 2rem;">Error: ${error.message}</div>`;
            }
        }

        document.addEventListener('DOMContentLoaded', testComponent);
    </script>
</body>
</html>
